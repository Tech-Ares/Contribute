(window.webpackJsonp=window.webpackJsonp||[]).push([["setting-role-save"],{"2a626":function(e,t,r){"use strict";r.r(t);r("b0c0");var n=r("7a23"),o=Object(n.createTextVNode)("取 消"),a=Object(n.createTextVNode)("保 存");var i=r("1da1"),l=(r("96cf"),{emits:["success","closed"],data:function(){return{mode:"add",titleMap:{edit:"编辑",add:"新增"},visible:!1,isSaveing:!1,form:{name:"",number:1,remark:"",id:""},roleId:"",loading:!1,rules:{number:[{required:!0,message:"请输入排序",trigger:"change"}],name:[{required:!0,message:"请输入角色名称"}],remark:[{required:!0,message:"请输入角色说明"}]},groups:[],groupsProps:{value:"id",emitPath:!1,checkStrictly:!0}}},methods:{open:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"add";return this.mode=e,this.visible=!0,this},getRoleData:function(e){var t=this;return Object(i.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.loading=!0,r.next=3,t.$API.sysRole.getRoleById.get(e);case 3:if(n=r.sent,console.log(n),t.loading=!1,0===n.code){r.next=8;break}return r.abrupt("return",t.$message.error("获取数据失败"));case 8:t.form.name=n.data.form.name,t.form.number=n.data.form.number,t.form.remark=n.data.form.remark;case 11:case"end":return r.stop()}}),r)})))()},submit:function(){var e=this;this.$refs.dialogForm.validate(function(){var t=Object(i.a)(regeneratorRuntime.mark((function t(r){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=7;break}return e.isSaveing=!0,t.next=4,e.$API.sysRole.createOrEditRole.post(e.form);case 4:n=t.sent,e.isSaveing=!1,0==n.code?(e.$emit("success",e.form,e.mode),e.visible=!1,e.$message.success("操作成功")):e.$alert(n.message,"提示",{type:"error"});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},setData:function(e){console.log(e),this.form.id=e,this.getRoleData(e)}}}),c=r("6b0d");const u=r.n(c)()(l,[["render",function(e,t,r,i,l,c){var u=Object(n.resolveComponent)("el-input"),s=Object(n.resolveComponent)("el-form-item"),d=Object(n.resolveComponent)("el-input-number"),m=Object(n.resolveComponent)("el-form"),f=Object(n.resolveComponent)("el-button"),b=Object(n.resolveComponent)("el-dialog"),p=Object(n.resolveDirective)("loading");return Object(n.openBlock)(),Object(n.createBlock)(b,{title:l.titleMap[l.mode],modelValue:l.visible,"onUpdate:modelValue":t[5]||(t[5]=function(e){return l.visible=e}),width:500,"destroy-on-close":"",onClosed:t[6]||(t[6]=function(t){return e.$emit("closed")})},{footer:Object(n.withCtx)((function(){return[Object(n.createVNode)(f,{onClick:t[3]||(t[3]=function(e){return l.visible=!1})},{default:Object(n.withCtx)((function(){return[o]})),_:1}),Object(n.createVNode)(f,{type:"primary",loading:l.isSaveing,onClick:t[4]||(t[4]=function(e){return c.submit()})},{default:Object(n.withCtx)((function(){return[a]})),_:1},8,["loading"])]})),default:Object(n.withCtx)((function(){return[Object(n.withDirectives)(Object(n.createVNode)(m,{model:l.form,rules:l.rules,ref:"dialogForm","label-width":"100px","label-position":"left"},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)(s,{label:"角色名称",prop:"name"},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)(u,{modelValue:l.form.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return l.form.name=e}),clearable:""},null,8,["modelValue"])]})),_:1}),Object(n.createVNode)(s,{label:"排序",prop:"number"},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)(d,{modelValue:l.form.number,"onUpdate:modelValue":t[1]||(t[1]=function(e){return l.form.number=e}),"controls-position":"right",min:1,style:{width:"100%"}},null,8,["modelValue"])]})),_:1}),Object(n.createVNode)(s,{label:"说明",prop:"remark"},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)(u,{modelValue:l.form.remark,"onUpdate:modelValue":t[2]||(t[2]=function(e){return l.form.remark=e}),clearable:""},null,8,["modelValue"])]})),_:1})]})),_:1},8,["model","rules"]),[[p,l.loading]])]})),_:1},8,["title","modelValue"])}]]);t.default=u}}]);