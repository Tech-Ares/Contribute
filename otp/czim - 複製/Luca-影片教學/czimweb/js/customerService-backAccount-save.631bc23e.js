(window.webpackJsonp=window.webpackJsonp||[]).push([["customerService-backAccount-save"],{"1e08":function(e,t,r){},"690c":function(e,t,r){"use strict";r("1e08")},"9dd8":function(e,t,r){"use strict";r.r(t);var o=r("7a23"),n=Object(o.createTextVNode)("是"),a=Object(o.createTextVNode)("否"),c=["src"],l=Object(o.createTextVNode)("取 消"),i=Object(o.createTextVNode)("保 存");var u=r("1da1"),s=(r("96cf"),{emits:["success","closed"],data:function(){return{mode:"add",titleMap:{edit:"编辑",add:"新增客服账号"},visible:!1,isSaveing:!1,loading:!1,form:{userId:"",nickName:"",avatar:"",isAgent:!1,loginName:"",passWord:""},managerOptions:[],file:{},rules:{userId:[{required:!0,message:"请选择管理员",trigger:"change"}],nickName:[{required:!0,message:"请输入昵称"}],avatar:[{required:!0,message:"请上传头像"}],loginName:[{required:!0,message:"请填写登录名"}],passWord:[{required:!0,message:"请输入密码"}]}}},mounted:function(){},methods:{findCustomer:function(){var e=this;return Object(u.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$API.customerService.findCustomer.get();case 2:if(r=t.sent,console.log(r,"findCustomer"),e.loading=!1,0===r.code){t.next=7;break}return t.abrupt("return",e.$message.warning("获取数据失败"));case 7:e.managerOptions=r.data,console.log(e.managerOptions);case 9:case"end":return t.stop()}}),t)})))()},submit:function(){var e=this;this.$refs.dialogForm.validate(function(){var t=Object(u.a)(regeneratorRuntime.mark((function t(r){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=7;break}return e.isSaveing=!0,t.next=4,e.$API.customerService.saveForm.post(e.form);case 4:o=t.sent,e.isSaveing=!1,0==o.code?(e.$emit("success",e.form,e.mode),e.visible=!1,e.$message.success("操作成功")):e.$alert(o.message,"提示",{type:"error"});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},beforeAvatarUpload:function(e){this.file=e,console.log(e);var t="image/jpeg"===e.type,r=e.size/1024/1024<2;return t||this.$message.error("Avatar picture must be JPG format!"),r||this.$message.error("Avatar picture size can not exceed 2MB!"),t&&r},handleUpload:function(){var e=this;return Object(u.a)(regeneratorRuntime.mark((function t(){var r,o,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={headers:{"Content-Type":"multipart/form-data"}},(o=new FormData).append("file",e.file),t.next=5,e.$API.fileUpload.upload.post("",o,r);case 5:n=t.sent,e.form.avatar=n.data[0].imageUrl,console.log(n);case 8:case"end":return t.stop()}}),t)})))()},open:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"add";return this.mode=e,this.visible=!0,this.findCustomer(),this},setData:function(){this.findCustomer()}}}),d=(r("690c"),r("6b0d"));const m=r.n(d)()(s,[["render",function(e,t,r,u,s,d){var m=Object(o.resolveComponent)("el-option"),b=Object(o.resolveComponent)("el-select"),f=Object(o.resolveComponent)("el-form-item"),p=Object(o.resolveComponent)("el-input"),O=Object(o.resolveComponent)("el-radio"),j=Object(o.resolveComponent)("el-radio-group"),v=Object(o.resolveComponent)("el-icon-plus"),g=Object(o.resolveComponent)("el-icon"),h=Object(o.resolveComponent)("el-upload"),C=Object(o.resolveComponent)("el-form"),V=Object(o.resolveComponent)("el-button"),w=Object(o.resolveComponent)("el-dialog"),k=Object(o.resolveDirective)("loading");return Object(o.openBlock)(),Object(o.createBlock)(w,{title:s.titleMap[s.mode],modelValue:s.visible,"onUpdate:modelValue":t[7]||(t[7]=function(e){return s.visible=e}),width:500,"destroy-on-close":"",onClosed:t[8]||(t[8]=function(t){return e.$emit("closed")})},{footer:Object(o.withCtx)((function(){return[Object(o.createVNode)(V,{onClick:t[5]||(t[5]=function(e){return s.visible=!1})},{default:Object(o.withCtx)((function(){return[l]})),_:1}),"show"!=s.mode?(Object(o.openBlock)(),Object(o.createBlock)(V,{key:0,type:"primary",loading:s.isSaveing,onClick:t[6]||(t[6]=function(e){return d.submit()})},{default:Object(o.withCtx)((function(){return[i]})),_:1},8,["loading"])):Object(o.createCommentVNode)("",!0)]})),default:Object(o.withCtx)((function(){return[Object(o.withDirectives)(Object(o.createVNode)(C,{model:s.form,ref:"dialogForm",rules:s.rules,"label-width":"100px","label-position":"left"},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(f,{label:"客服",prop:"userId"},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(b,{modelValue:s.form.userId,"onUpdate:modelValue":t[0]||(t[0]=function(e){return s.form.userId=e}),placeholder:"请选择客服"},{default:Object(o.withCtx)((function(){return[(Object(o.openBlock)(!0),Object(o.createElementBlock)(o.Fragment,null,Object(o.renderList)(s.managerOptions,(function(e){return Object(o.openBlock)(),Object(o.createBlock)(m,{key:e.value,value:e.value,label:e.label},{default:Object(o.withCtx)((function(){return[Object(o.createTextVNode)(Object(o.toDisplayString)(e.label),1)]})),_:2},1032,["value","label"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),Object(o.createVNode)(f,{label:"昵称",prop:"nickName"},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(p,{modelValue:s.form.nickName,"onUpdate:modelValue":t[1]||(t[1]=function(e){return s.form.nickName=e}),placeholder:"请输入昵称",clearable:""},null,8,["modelValue"])]})),_:1}),Object(o.createVNode)(f,{label:"推广员",name:"isAgent"},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(j,{modelValue:s.form.isAgent,"onUpdate:modelValue":t[2]||(t[2]=function(e){return s.form.isAgent=e})},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(O,{label:!0},{default:Object(o.withCtx)((function(){return[n]})),_:1}),Object(o.createVNode)(O,{label:!1},{default:Object(o.withCtx)((function(){return[a]})),_:1})]})),_:1},8,["modelValue"])]})),_:1}),Object(o.createVNode)(f,{label:"头像",prop:"avatar"},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(h,{action:"#",class:"avatar-uploader","show-file-list":!1,"http-request":d.handleUpload,"before-upload":d.beforeAvatarUpload},{default:Object(o.withCtx)((function(){return[s.form.avatar?(Object(o.openBlock)(),Object(o.createElementBlock)("img",{key:0,class:"avatar",src:s.form.avatar},null,8,c)):(Object(o.openBlock)(),Object(o.createBlock)(g,{key:1,class:"avatar-uploader-icon"},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(v)]})),_:1}))]})),_:1},8,["http-request","before-upload"])]})),_:1}),s.form.isAgent?(Object(o.openBlock)(),Object(o.createBlock)(f,{key:0,label:"App登录名",prop:"loginName"},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(p,{modelValue:s.form.loginName,"onUpdate:modelValue":t[3]||(t[3]=function(e){return s.form.loginName=e}),placeholder:"请输入App登录名",clearable:""},null,8,["modelValue"])]})),_:1})):Object(o.createCommentVNode)("",!0),s.form.isAgent?(Object(o.openBlock)(),Object(o.createBlock)(f,{key:1,label:"登录密码",prop:"passWord"},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(p,{modelValue:s.form.passWord,"onUpdate:modelValue":t[4]||(t[4]=function(e){return s.form.passWord=e}),type:"password",placeholder:"请输入App登录密码",clearable:""},null,8,["modelValue"])]})),_:1})):Object(o.createCommentVNode)("",!0)]})),_:1},8,["model","rules"]),[[k,s.loading]])]})),_:1},8,["title","modelValue"])}]]);t.default=m}}]);